"use strict";(self.webpackChunkphonebook_new=self.webpackChunkphonebook_new||[]).push([[141],{6601:function(t,e,n){n.d(e,{Z:function(){return c}});var a="PageWrapper_PageWrapper__PZ9Ik",r=n(3329),c=function(t){var e=t.children;return(0,r.jsx)("div",{className:a,children:e})}},4042:function(t,e,n){n.r(e),n.d(e,{default:function(){return Ht}});var a=n(885),r=n(2791),c=n(5407),o=n(1354),i=n(6601),l=n(4549),s=n(9434),u=n(4165),d=n(5861),m=n(6382),p=n(1044);p.Z.defaults.baseURL="https://connections-api.herokuapp.com";var f,h,b,g,C,v=(0,m.hg)("contacts/fetchContacts",function(){var t=(0,d.Z)((0,u.Z)().mark((function t(e,n){var a,r;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.Z.get("/contacts");case 3:return a=t.sent,r=a.data,console.log("contacts ",r),t.abrupt("return",r);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()),x=(0,m.hg)("contacts/addContact",function(){var t=(0,d.Z)((0,u.Z)().mark((function t(e,n){var a,r,c,o;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.name,r=e.number,t.prev=1,t.next=4,p.Z.post("/contacts",{name:a,number:r});case 4:return c=t.sent,o=c.data,t.abrupt("return",o);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",n.rejectWithValue(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),y=(0,m.hg)("contacts/deleteContact",function(){var t=(0,d.Z)((0,u.Z)().mark((function t(e,n){var a,r;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.Z.delete("/contacts/".concat(e));case 3:return a=t.sent,r=a.data,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()),j=(0,m.hg)("contacts/updateContact",function(){var t=(0,d.Z)((0,u.Z)().mark((function t(e,n){var a,r,c,o,i;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.contactId,r=e.name,c=e.number,t.prev=1,t.next=4,p.Z.patch("/contacts/".concat(a),{contactId:a,name:r,number:c});case 4:return o=t.sent,i=o.data,t.abrupt("return",i);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",n.rejectWithValue(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),w={fetchContacts:v,addContact:x,deleteContact:y,updateContact:j},Z=function(t){return t.contacts.items},_=function(t){return t.contacts.filter},N={getContacts:Z,getFilter:_,getLoading:function(t){return t.contacts.isLoading},getVisibleContactsSortByName:(0,n(6916).P1)([Z,_],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)})).sort((function(t,e){var n=t.name.toUpperCase(),a=e.name.toUpperCase();return n<a?-1:n>a?1:0}))}))},O=n(4942),E=n(2982),F=n(9119),I=(0,m.PH)("contacts/changeFilter"),k=function(t){t.isLoading=!0,t.error=null},L=function(t,e){t.isLoading=!1,t.error=e.payload},S=((0,m.oM)({name:"contacts",initialState:{items:[],isLoading:!1,error:null,filter:""},extraReducers:(f={},(0,O.Z)(f,w.addContact.pending,k),(0,O.Z)(f,w.addContact.fulfilled,(function(t,e){t.isLoading=!1,t.error=null,t.items=[].concat((0,E.Z)(t.items),[e.payload])})),(0,O.Z)(f,w.addContact.rejected,L),(0,O.Z)(f,w.fetchContacts.pending,k),(0,O.Z)(f,w.fetchContacts.fulfilled,(function(t,e){t.isLoading=!1,t.error=null,t.items=[].concat((0,E.Z)(t.items),(0,E.Z)(e.payload))})),(0,O.Z)(f,w.fetchContacts.rejected,L),(0,O.Z)(f,w.deleteContact.pending,k),(0,O.Z)(f,w.deleteContact.fulfilled,(function(t,e){t.isLoading=!1,t.error=null,t.items.filter((function(t){return t.id!==e.payload}))})),(0,O.Z)(f,w.deleteContact.rejected,L),(0,O.Z)(f,w.updateContact.pending,k),(0,O.Z)(f,w.updateContact.fulfilled,(function(t,e){t.isLoading=!1,t.error=null,t.items.map((function(t){return t.id===e.payload.id?e.payload:t}))})),(0,O.Z)(f,w.updateContact.rejected,L),(0,O.Z)(f,F.r5.kS.fulfilled,(function(t){t.items=[],t.error=null,t.isLoading=!1,t.filter=""})),(0,O.Z)(f,I,(function(t,e){return e.payload})),f)}).reducer,n(2506)),V=n(2773),P=n(7942),B=n(5985),z=function(t,e){return B.Am[e](t,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},M="FormsContact_form__e2w-V",R="FormsContact_label__jEQeB",D="FormsContact_input__rd84C",A="FormsContact_errorName__cZYnH",W="FormsContact_errorNumber__zgYDk",U=n(3329),H=(0,o.Z)((function(t){var e=t.saveContact,n=t.localization.localizedContent,a=n.isContact,r=n.contentBtnAdd,c=n.namePlaceholder,o=n.phoneNumber,i=n.required,l=n.minCharacterName,u=n.maxCharacterName,d=n.notSpaces,m=n.notValid,p=n.minCharacterNumber,f=n.maxCharacterNumber,h=(0,s.v9)(N.getContacts),b=(0,s.v9)(N.getFilter),g=(0,s.I0)(),C=P.Ry({name:P.Z_().trim(d).min(2,l).max(12,u).required(i),number:P.Z_().trim(d).matches(/^[+]{0,1}[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s/0-9]*$/,m).min(8,p).max(18,f).required(i)});return(0,U.jsx)(S.J9,{initialValues:{name:"",number:""},validationSchema:C,onSubmit:function(t,n){var r=t.name,i=t.number,l=n.resetForm;h.find((function(t){return t.name===r}))?z("".concat(c,' "').concat(r,'" ').concat(a),"warn"):h.find((function(t){return t.number===i}))?z("".concat(o,' "').concat(i,'" ').concat(a),"warn"):(g(w.addContact({name:r,number:i})),l({name:"",number:""}),e(),b.length>0&&g(I("")))},validateOnBlur:!1,children:(0,U.jsxs)(S.l0,{className:M,children:[(0,U.jsx)("label",{htmlFor:"name",className:R,children:c}),(0,U.jsx)(S.gN,{id:"name",name:"name",type:"text",className:D,placeholder:c,autoFocus:!0}),(0,U.jsx)(S.Bc,{component:"span",name:"name",className:A}),(0,U.jsx)("label",{htmlFor:"number",className:R,children:o}),(0,U.jsx)(S.gN,{id:"number",name:"number",type:"tel",className:D,placeholder:o}),(0,U.jsx)(S.Bc,{component:"span",name:"number",className:W}),(0,U.jsx)(V.Z,{type:"submit",btnClass:"button","aria-label":"Add contact",children:r})]})})})),T=n(7124),q=n(2984),Y=(0,o.Z)((function(t){var e=t.saveContact,n=t.localization,a=t.id,r=n.localizedContent,c=r.isContact,o=r.contentBtnEdit,i=r.namePlaceholder,l=r.phoneNumber,u=r.required,d=r.minCharacterName,m=r.maxCharacterName,p=r.notSpaces,f=r.notValid,h=r.minCharacterNumber,b=r.maxCharacterNumber,g=(0,s.v9)(N.getContacts),C=(0,s.I0)(),v=g.find((function(t){return t.id===a})),x=P.Ry({name:P.Z_().trim(p).min(2,d).max(12,m).required(u),number:P.Z_().trim(p).matches(/^[+]{0,1}[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s/0-9]*$/,f).min(8,h).max(18,b).required(u)});return(0,U.jsx)(S.J9,{initialValues:{name:v.name,number:v.number},validationSchema:x,onSubmit:function(t,n){var r=t.name,o=t.number,s=n.resetForm,u=g.filter((function(t){return t.id!==a}));u.find((function(t){return t.name===r}))?z("".concat(i,' "').concat(r,'" ').concat(c),"warn"):u.find((function(t){return t.number===o}))?z("".concat(l,' "').concat(o,'" ').concat(c),"warn"):(C(w.updateContact(v.id,{name:r,number:o})),s({name:"",number:""}),e())},validateOnBlur:!1,children:(0,U.jsxs)(S.l0,{className:M,children:[(0,U.jsx)("label",{htmlFor:"name",className:R,children:i}),(0,U.jsx)(S.gN,{id:"name",name:"name",type:"text",className:D,placeholder:i,autoFocus:!0}),(0,U.jsx)(S.Bc,{component:"span",name:"name",className:A}),(0,U.jsx)("label",{htmlFor:"number",className:R,children:l}),(0,U.jsx)(S.gN,{id:"number",name:"number",type:"tel",className:D,placeholder:l}),(0,U.jsx)(S.Bc,{component:"span",name:"number",className:W}),(0,U.jsx)(V.Z,{type:"submit",btnClass:"button","aria-label":"Add contact",children:o})]})})})),J=n(6074),$=n(2900),G=["title","titleId"];function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Q.apply(this,arguments)}function K(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},c=Object.keys(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X(t,e){var n=t.title,a=t.titleId,c=K(t,G);return r.createElement("svg",Q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,h||(h=r.createElement("polygon",{fill:"#F6AB0E",points:"29,5 29,2 19,2 19,5 9,5 9,11 39,11 39,5"})),b||(b=r.createElement("polygon",{points:"8.291,11 11.3,42 36.7,42 39.709,11"})),g||(g=r.createElement("rect",{width:36,height:6,x:6,y:8,fill:"#3dd9eb"})),C||(C=r.createElement("rect",{width:30,height:3,x:9,y:8,fill:"#00b3d7"})))}var tt,et,nt,at,rt,ct,ot=r.forwardRef(X),it=(n.p,["title","titleId"]);function lt(){return lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},lt.apply(this,arguments)}function st(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},c=Object.keys(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ut(t,e){var n=t.title,a=t.titleId,c=st(t,it);return r.createElement("svg",lt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,tt||(tt=r.createElement("path",{fill:"#c94f60",d:"M42.583,9.067l-3.651-3.65c-0.555-0.556-1.459-0.556-2.015,0l-1.718,1.72l5.664,5.664l1.72-1.718 C43.139,10.526,43.139,9.625,42.583,9.067"})),et||(et=r.createElement("path",{fill:"#f0f0f0",d:"M6.905,35.43L5,43l7.571-1.906l0.794-6.567L6.905,35.43z"})),nt||(nt=r.createElement("path",{d:"M36.032,17.632l-23.46,23.461l-5.665-5.665l23.46-23.461L36.032,17.632z"})),at||(at=r.createElement("linearGradient",{id:"YoPixpDbHWOyk~b005eF1a",x1:35.612,x2:35.612,y1:7.494,y2:17.921,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:0,stopColor:"#dedede"}),r.createElement("stop",{offset:1,stopColor:"#d6d6d6"}))),rt||(rt=r.createElement("path",{fill:"url(#YoPixpDbHWOyk~b005eF1a)",d:"M30.363,11.968l4.832-4.834l5.668,5.664l-4.832,4.834L30.363,11.968z"})),ct||(ct=r.createElement("path",{fill:"#787878",d:"M5.965,39.172L5,43l3.827-0.965L5.965,39.172z"})))}var dt,mt=r.forwardRef(ut),pt=(n.p,n(1925)),ft="ContactItem_contactItem__ZG7gz",ht="ContactItem_contact__0q0mn",bt="ContactItem_contactName__-VQ6O",gt="ContactItem_iconDelete__BK4bE",Ct="ContactItem_iconEdit__Ek0Wi",vt="ContactItem_buttons__2J6dV",xt=function(t){var e=t.onDeleteContact,n=t.id,c=t.name,o=t.number,i=(0,r.useState)(!1),s=(0,a.Z)(i,2),u=s[0],d=s[1],m=function(){d(!u)};return(0,U.jsxs)($.E.li,{className:ft,initial:{x:-50,opacity:0},animate:{x:0},exit:{x:50,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!1},children:[(0,U.jsxs)("p",{className:ht,children:[(0,U.jsxs)("span",{className:bt,children:[c,":"]})," ",o]}),(0,U.jsxs)("div",{className:vt,children:[(0,U.jsx)(J.Z,{onClick:m,"aria-label":"Update contact",btnClass:"btnDeleteContact",children:(0,U.jsx)(mt,{width:"30",height:"30",className:Ct})}),(0,U.jsx)(J.Z,{onClick:e,"aria-label":"Delete contact",btnClass:"btnDeleteContact",children:(0,U.jsx)(ot,{width:"30",height:"30",className:gt})})]}),(0,U.jsx)(l.M,{children:u&&(0,U.jsxs)(T.Z,{onClose:m,children:[(0,U.jsx)(Y,{id:n,saveContact:m}),(0,U.jsx)(J.Z,{onClick:m,btnClass:"btnCloseModal","aria-label":"Close modal add contacts",children:(0,U.jsx)(pt.r,{width:"32",height:"32",fill:"currentColor"})})]})})]})},yt="ContactList_contactList__8vp2H",jt="ContactList_notice__IjD3t",wt=(0,o.Z)((function(t){var e=t.localization.localizedContent,n=e.noContacts,a=e.noFilterContacts,c=(0,s.I0)(),o=(0,s.v9)(N.getContacts),i=(0,s.v9)(N.getVisibleContactsSortByName),u=(0,s.v9)(N.getLoading);(0,r.useEffect)((function(){return c(w.fetchContacts())}),[c]);return(0,U.jsxs)(U.Fragment,{children:[u&&(0,U.jsx)(q.Z,{}),0===i.length&&0!==o.length&&(0,U.jsx)($.E.p,{className:jt,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a}),0===o.length&&(0,U.jsx)($.E.p,{className:jt,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:n}),(0,U.jsx)("ul",{className:yt,children:(0,U.jsx)(l.M,{children:i.map((function(t){var e=t.name,n=t.number,a=t.id;return(0,U.jsx)(xt,{id:a,name:e,number:n,onDeleteContact:function(){return function(t){return c(w.deleteContact(t))}(a)}},a)}))})})]})})),Zt=new Uint8Array(16);function _t(){if(!dt&&!(dt="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dt(Zt)}var Nt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ot=function(t){return"string"===typeof t&&Nt.test(t)},Et=[],Ft=0;Ft<256;++Ft)Et.push((Ft+256).toString(16).substr(1));var It=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Et[t[e+0]]+Et[t[e+1]]+Et[t[e+2]]+Et[t[e+3]]+"-"+Et[t[e+4]]+Et[t[e+5]]+"-"+Et[t[e+6]]+Et[t[e+7]]+"-"+Et[t[e+8]]+Et[t[e+9]]+"-"+Et[t[e+10]]+Et[t[e+11]]+Et[t[e+12]]+Et[t[e+13]]+Et[t[e+14]]+Et[t[e+15]]).toLowerCase();if(!Ot(n))throw TypeError("Stringified UUID is invalid");return n};var kt,Lt,St=function(t,e,n){var a=(t=t||{}).random||(t.rng||_t)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=a[r];return e}return It(a)},Vt="Filter_filter__WVAej",Pt="Filter_label__M4T-Z",Bt="Filter_input__mZBb0",zt=(0,o.Z)((function(t){var e=t.localization,n=St(),a=e.localizedContent,r=a.titleFilter,c=a.filterPlaceholder,o=(0,s.v9)(N.getFilter),i=(0,s.v9)(N.getContacts),l=(0,s.I0)();return(0,U.jsx)(U.Fragment,{children:i.length>0&&(0,U.jsxs)($.E.div,{className:Vt,initial:{opacity:0},exit:{opacity:0},transition:{ease:"easeOut",duration:.5},whileInView:{opacity:1},viewport:{once:!1},children:[(0,U.jsx)("label",{htmlFor:n,className:Pt,children:r}),(0,U.jsx)($.E.input,{id:n,type:"text",name:"name",value:o,onChange:function(t){return l(I(t.target.value))},placeholder:c,className:Bt,initial:{scale:0},exit:{scale:0},transition:{ease:"easeOut",duration:.5},animate:{scale:1}})]})})})),Mt=n(5079),Rt=["title","titleId"];function Dt(){return Dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Dt.apply(this,arguments)}function At(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},c=Object.keys(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wt(t,e){var n=t.title,a=t.titleId,c=At(t,Rt);return r.createElement("svg",Dt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,kt||(kt=r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),Lt||(Lt=r.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})))}var Ut=r.forwardRef(Wt),Ht=(n.p,(0,o.Z)((function(t){var e=t.localization.localizedContent,n=e.primaryTitle,o=e.secondaryTitle,s=e.contentBtnAdd,u=(0,r.useState)(!1),d=(0,a.Z)(u,2),m=d[0],p=d[1],f=function(){p(!m)};return(0,U.jsxs)(i.Z,{children:[(0,U.jsx)(c.Z,{primaryTitle:n,titleClass:"primaryTitle"}),(0,U.jsxs)(Mt.Z,{onClick:f,btnClass:"btnAddContact","aria-label":"Add contact",children:[(0,U.jsx)(Ut,{width:"30",height:"30",fill:"currentColor"}),s]}),(0,U.jsx)(l.M,{children:m&&(0,U.jsxs)(T.Z,{onClose:f,children:[(0,U.jsx)(H,{saveContact:f}),(0,U.jsx)(J.Z,{onClick:f,btnClass:"btnCloseModal","aria-label":"Close modal add contacts",children:(0,U.jsx)(pt.r,{width:"32",height:"32",fill:"currentColor"})})]})}),(0,U.jsx)(c.Z,{secondaryTitle:o,titleClass:"secondaryTitle"}),(0,U.jsx)(zt,{}),(0,U.jsx)(wt,{})]})})))}}]);
//# sourceMappingURL=contacts-page.06184890.chunk.js.map