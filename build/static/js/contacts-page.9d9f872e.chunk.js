"use strict";(self.webpackChunkphonebook_new=self.webpackChunkphonebook_new||[]).push([[141],{6601:function(e,t,n){n.d(t,{Z:function(){return c}});var a="PageWrapper_PageWrapper__PZ9Ik",r=n(3329),c=function(e){var t=e.children;return(0,r.jsx)("div",{className:a,children:t})}},3233:function(e,t,n){n.r(t),n.d(t,{default:function(){return ke}});var a,r,c,o,l=n(885),i=n(2791),s=n(5407),u=n(1354),m=n(6601),d=n(4549),p=n(4165),f=n(5861),h=n(9434),b=n(3868),x=n(2506),y=n(2773),v=n(7942),j=n(5985),C=function(e,t){return j.Am[t](e,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},g="FormsContact_form__e2w-V",w="FormsContact_label__jEQeB",_="FormsContact_input__rd84C",O="FormsContact_errorName__cZYnH",N="FormsContact_errorNumber__zgYDk",E=n(3329),Z=(0,u.Z)((function(e){var t=e.saveContact,n=e.localization.localizedContent,a=n.isContact,r=n.contentBtnAdd,c=n.namePlaceholder,o=n.phoneNumber,l=n.required,i=n.minCharacterName,s=n.maxCharacterName,u=n.notSpaces,m=n.notValid,d=n.minCharacterNumber,Z=n.maxCharacterNumber,k=(0,h.v9)(b.lP.K2),I=(0,h.v9)(b.lP.zK),P=(0,h.I0)(),F=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(n){var r,l,i;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.name,l=n.number,!k.find((function(e){return e.name===r}))||!k.find((function(e){return e.number===l}))){e.next=4;break}return C("".concat(c,' "').concat(r,'" / ').concat(o,' "').concat(l,'" ').concat(a),"warn"),e.abrupt("return");case 4:if(!k.find((function(e){return e.name===r}))){e.next=7;break}return C("".concat(c,' "').concat(r,'" ').concat(a),"warn"),e.abrupt("return");case 7:if(!k.find((function(e){return e.number===l}))){e.next=10;break}return C("".concat(o,' "').concat(l,'" ').concat(a),"warn"),e.abrupt("return");case 10:return e.next=12,P(b.mh.addContact({name:r,number:l}));case 12:i=e.sent,b.mh.addContact.fulfilled.match(i)?(I.length>0&&P((0,b.M6)("")),j.Am.success('You have successfully added contact "'.concat(r,": ").concat(l,'" to your list.'))):i.payload?j.Am.error(i.payload):j.Am.error("Error! Add contact failed."),t();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=v.Ry({name:v.Z_().trim(u).min(2,i).max(20,s).required(l),number:v.Z_().trim(u).matches(/^[+]{0,1}[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s/0-9]*$/,m).min(8,d).max(18,Z).required(l)});return(0,E.jsx)(x.J9,{initialValues:{name:"",number:""},validationSchema:z,onSubmit:F,validateOnBlur:!1,children:(0,E.jsxs)(x.l0,{className:g,children:[(0,E.jsx)("label",{htmlFor:"name",className:w,children:c}),(0,E.jsx)(x.gN,{id:"name",name:"name",type:"text",className:_,placeholder:c,autoFocus:!0}),(0,E.jsx)(x.Bc,{component:"span",name:"name",className:O}),(0,E.jsx)("label",{htmlFor:"number",className:w,children:o}),(0,E.jsx)(x.gN,{id:"number",name:"number",type:"tel",className:_,placeholder:o}),(0,E.jsx)(x.Bc,{component:"span",name:"number",className:N}),(0,E.jsx)(y.Z,{type:"submit",btnClass:"button","aria-label":"Add contact",children:r})]})})})),k=n(7124),I=n(2900),P=n(2984),F=(0,u.Z)((function(e){var t=e.saveContact,n=e.localization,a=e.id,r=n.localizedContent,c=r.isContact,o=r.contentBtnEdit,l=r.namePlaceholder,i=r.phoneNumber,s=r.required,u=r.minCharacterName,m=r.maxCharacterName,d=r.notSpaces,Z=r.notValid,k=r.minCharacterNumber,I=r.maxCharacterNumber,P=(0,h.v9)(b.lP.K2),F=P.find((function(e){return e.id===a})),z=(0,h.I0)(),A=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(n){var r,o,s,u;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.name,o=n.number,!(s=P.filter((function(e){return e.id!==a}))).find((function(e){return e.name===r}))||!s.find((function(e){return e.number===o}))){e.next=5;break}return C("".concat(l,' "').concat(r,'" ').concat(i,' / "').concat(o,'" ').concat(c),"warn"),e.abrupt("return");case 5:if(!s.find((function(e){return e.name===r}))){e.next=8;break}return C("".concat(l,' "').concat(r,'" ').concat(c),"warn"),e.abrupt("return");case 8:if(!s.find((function(e){return e.number===o}))){e.next=11;break}return C("".concat(i,' "').concat(o,'" ').concat(c),"warn"),e.abrupt("return");case 11:return e.next=13,z(b.mh.updateContact([a,{name:r,number:o}]));case 13:u=e.sent,b.mh.updateContact.fulfilled.match(u)?j.Am.success('You have successfully updated contact "'.concat(F.name,": ").concat(F.number,'" to "').concat(r,": ").concat(o,'"')):u.payload?j.Am.error(u.payload):j.Am.error("Error! Update contact failed."),t();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=v.Ry({name:v.Z_().trim(d).min(2,u).max(20,m).required(s),number:v.Z_().trim(d).matches(/^[+]{0,1}[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s/0-9]*$/,Z).min(8,k).max(18,I).required(s)});return(0,E.jsx)(x.J9,{initialValues:{name:F.name,number:F.number},validationSchema:S,onSubmit:A,validateOnBlur:!1,children:(0,E.jsxs)(x.l0,{className:g,children:[(0,E.jsx)("label",{htmlFor:"name",className:w,children:l}),(0,E.jsx)(x.gN,{id:"name",name:"name",type:"text",className:_,placeholder:l,autoFocus:!0}),(0,E.jsx)(x.Bc,{component:"span",name:"name",className:O}),(0,E.jsx)("label",{htmlFor:"number",className:w,children:i}),(0,E.jsx)(x.gN,{id:"number",name:"number",type:"tel",className:_,placeholder:i}),(0,E.jsx)(x.Bc,{component:"span",name:"number",className:N}),(0,E.jsx)(y.Z,{type:"submit",btnClass:"button","aria-label":"Add contact",children:o})]})})})),z=n(6074),A=["title","titleId"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},S.apply(this,arguments)}function B(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V(e,t){var n=e.title,l=e.titleId,s=B(e,A);return i.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",ref:t,"aria-labelledby":l},s),n?i.createElement("title",{id:l},n):null,a||(a=i.createElement("polygon",{fill:"#F6AB0E",points:"29,5 29,2 19,2 19,5 9,5 9,11 39,11 39,5"})),r||(r=i.createElement("polygon",{points:"8.291,11 11.3,42 36.7,42 39.709,11"})),c||(c=i.createElement("rect",{width:36,height:6,x:6,y:8,fill:"#3dd9eb"})),o||(o=i.createElement("rect",{width:30,height:3,x:9,y:8,fill:"#00b3d7"})))}var M,D,L,R,T,q,K=i.forwardRef(V),Y=(n.p,["title","titleId"]);function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},H.apply(this,arguments)}function U(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W(e,t){var n=e.title,a=e.titleId,r=U(e,Y);return i.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,M||(M=i.createElement("path",{fill:"#c94f60",d:"M42.583,9.067l-3.651-3.65c-0.555-0.556-1.459-0.556-2.015,0l-1.718,1.72l5.664,5.664l1.72-1.718 C43.139,10.526,43.139,9.625,42.583,9.067"})),D||(D=i.createElement("path",{fill:"#f0f0f0",d:"M6.905,35.43L5,43l7.571-1.906l0.794-6.567L6.905,35.43z"})),L||(L=i.createElement("path",{d:"M36.032,17.632l-23.46,23.461l-5.665-5.665l23.46-23.461L36.032,17.632z"})),R||(R=i.createElement("linearGradient",{id:"YoPixpDbHWOyk~b005eF1a",x1:35.612,x2:35.612,y1:7.494,y2:17.921,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:0,stopColor:"#dedede"}),i.createElement("stop",{offset:1,stopColor:"#d6d6d6"}))),T||(T=i.createElement("path",{fill:"url(#YoPixpDbHWOyk~b005eF1a)",d:"M30.363,11.968l4.832-4.834l5.668,5.664l-4.832,4.834L30.363,11.968z"})),q||(q=i.createElement("path",{fill:"#787878",d:"M5.965,39.172L5,43l3.827-0.965L5.965,39.172z"})))}var J,$=i.forwardRef(W),G=(n.p,n(1925)),Q="ContactItem_contactItem__ZG7gz",X="ContactItem_contact__0q0mn",ee="ContactItem_contactName__-VQ6O",te="ContactItem_iconDelete__BK4bE",ne="ContactItem_iconEdit__Ek0Wi",ae="ContactItem_buttons__2J6dV",re=function(e){var t=e.onDeleteContact,n=e.id,a=e.name,r=e.number,c=(0,i.useState)(!1),o=(0,l.Z)(c,2),s=o[0],u=o[1],m=function(){u(!s)};return(0,E.jsxs)(I.E.li,{className:Q,initial:{x:-50,opacity:0},animate:{x:0},exit:{x:50,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!1},transition:{ease:"easeOut",duration:.3},children:[(0,E.jsxs)("p",{className:X,children:[(0,E.jsxs)("span",{className:ee,children:[a,":"]})," ",r]}),(0,E.jsxs)("div",{className:ae,children:[(0,E.jsx)(z.Z,{onClick:m,"aria-label":"Update contact",btnClass:"btnDeleteContact",children:(0,E.jsx)($,{width:"30",height:"30",className:ne})}),(0,E.jsx)(z.Z,{onClick:t,"aria-label":"Delete contact",btnClass:"btnDeleteContact",children:(0,E.jsx)(K,{width:"30",height:"30",className:te})})]}),(0,E.jsx)(d.M,{children:s&&(0,E.jsxs)(k.Z,{onClose:m,children:[(0,E.jsx)(F,{id:n,saveContact:m}),(0,E.jsx)(z.Z,{onClick:m,btnClass:"btnCloseModal","aria-label":"Close modal add contacts",children:(0,E.jsx)(G.r,{width:"32",height:"32",fill:"currentColor"})})]})})]})},ce=n(1817),oe="ContactList_contactList__8vp2H",le="ContactList_notice__IjD3t",ie=(0,u.Z)((function(e){var t=e.localization.localizedContent,n=t.noContacts,a=t.noFilterContacts,r=(0,h.I0)(),c=(0,h.v9)(b.lP.K2),o=(0,h.v9)(b.lP.Yq),l=(0,h.v9)(b.lP.Kv);(0,i.useEffect)((function(){r(b.mh.fetchContacts())}),[r]);var s=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(t){var n,a;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(b.mh.deleteContact(t));case 2:n=e.sent,b.mh.deleteContact.fulfilled.match(n)?(a=n.payload,j.Am.success('You are successfully delete contact "'.concat(a.name,": ").concat(a.number,'"!'))):n.payload?j.Am.error(n.payload):j.Am.error("Error! Delete contact failed.");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,E.jsxs)(E.Fragment,{children:[l&&(0,E.jsx)(P.Z,{}),0===o.length&&0!==c.length&&(0,E.jsxs)(I.E.div,{className:le,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.5},children:[(0,E.jsx)("p",{children:a}),(0,E.jsx)(ce.r,{alt:"phonebookIcon",style:{marginTop:"10px"},width:"150"})]}),0===c.length&&(0,E.jsxs)(I.E.div,{className:le,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.5},children:[(0,E.jsx)("p",{children:n}),(0,E.jsx)(ce.r,{alt:"phonebookIcon",style:{marginTop:"10px"},width:"150"})]}),(0,E.jsx)("ul",{className:oe,children:(0,E.jsx)(d.M,{children:o.map((function(e){var t=e.name,n=e.number,a=e.id;return(0,E.jsx)(re,{id:a,name:t,number:n,onDeleteContact:function(){return s(a)}},a)}))})})]})})),se=new Uint8Array(16);function ue(){if(!J&&!(J="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return J(se)}var me=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var de=function(e){return"string"===typeof e&&me.test(e)},pe=[],fe=0;fe<256;++fe)pe.push((fe+256).toString(16).substr(1));var he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(pe[e[t+0]]+pe[e[t+1]]+pe[e[t+2]]+pe[e[t+3]]+"-"+pe[e[t+4]]+pe[e[t+5]]+"-"+pe[e[t+6]]+pe[e[t+7]]+"-"+pe[e[t+8]]+pe[e[t+9]]+"-"+pe[e[t+10]]+pe[e[t+11]]+pe[e[t+12]]+pe[e[t+13]]+pe[e[t+14]]+pe[e[t+15]]).toLowerCase();if(!de(n))throw TypeError("Stringified UUID is invalid");return n};var be,xe,ye=function(e,t,n){var a=(e=e||{}).random||(e.rng||ue)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=a[r];return t}return he(a)},ve="Filter_filter__WVAej",je="Filter_label__M4T-Z",Ce="Filter_input__mZBb0",ge=(0,u.Z)((function(e){var t=e.localization,n=ye(),a=t.localizedContent,r=a.titleFilter,c=a.filterPlaceholder,o=(0,h.v9)(b.lP.zK),l=(0,h.v9)(b.lP.K2),i=(0,h.I0)();return(0,E.jsx)(E.Fragment,{children:l.length>0&&(0,E.jsxs)(I.E.div,{className:ve,initial:{opacity:0},exit:{opacity:0},transition:{ease:"easeOut",duration:.5},whileInView:{opacity:1},viewport:{once:!1},children:[(0,E.jsx)("label",{htmlFor:n,className:je,children:r}),(0,E.jsx)(I.E.input,{id:n,type:"text",name:"name",value:o,onChange:function(e){return i((0,b.M6)(e.target.value))},placeholder:c,className:Ce,initial:{scale:0},exit:{scale:0},transition:{ease:"easeOut",duration:.5},animate:{scale:1}})]})})})),we=n(5079),_e=["title","titleId"];function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Oe.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ee(e,t){var n=e.title,a=e.titleId,r=Ne(e,_e);return i.createElement("svg",Oe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,be||(be=i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),xe||(xe=i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})))}var Ze=i.forwardRef(Ee),ke=(n.p,(0,u.Z)((function(e){var t=e.localization.localizedContent,n=t.primaryTitle,a=t.secondaryTitle,r=t.contentBtnAdd,c=(0,i.useState)(!1),o=(0,l.Z)(c,2),u=o[0],p=o[1],f=function(){p(!u)};return(0,E.jsxs)(m.Z,{children:[(0,E.jsx)(s.Z,{primaryTitle:n,titleClass:"primaryTitle"}),(0,E.jsxs)(we.Z,{onClick:f,btnClass:"btnAddContact","aria-label":"Add contact",children:[(0,E.jsx)(Ze,{width:"30",height:"30",fill:"currentColor"}),r]}),(0,E.jsx)(d.M,{children:u&&(0,E.jsxs)(k.Z,{onClose:f,children:[(0,E.jsx)(Z,{saveContact:f}),(0,E.jsx)(z.Z,{onClick:f,btnClass:"btnCloseModal","aria-label":"Close modal add contacts",children:(0,E.jsx)(G.r,{width:"32",height:"32",fill:"currentColor"})})]})}),(0,E.jsx)(s.Z,{secondaryTitle:a,titleClass:"secondaryTitle"}),(0,E.jsx)(ge,{}),(0,E.jsx)(ie,{})]})})))}}]);
//# sourceMappingURL=contacts-page.9d9f872e.chunk.js.map